<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Rivoli Confeitaria | Atualizar dados pessoais</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.11/jquery.mask.min.js"></script>
</head>
<body class="vh-100">
	<div th:replace="fragmentos/fragmentos :: header"></div>
	<div class="container">
		<div class="">
			<h4 class="text-center m-3">Atualizar dados pessoais</h4>
			<form class="form-horizontal" action="/usuario/atualizar-dados" method="post" th:object="${usuario}">
				<div class="row">
					<div class="form-group col-lg-4 col-md-5 col-sm-10">
						<label for="nome">Nome:</label>
						<input class="form-control" id="nome" type="text" th:field="*{nome}" placeholder="Nome *" maxlength="20" />
						<p class="text-danger" th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></p>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-lg-4 col-md-5 col-sm-10">
						<label for="sobrenome">Sobrenome:</label>
						<input class="form-control" id="sobrenome" type="text" th:field="*{sobrenome}" placeholder="Sobrenome *" maxlength="30" />
						<p class="text-danger" th:if="${#fields.hasErrors('sobrenome')}" th:errors="*{sobrenome}"></p>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-lg-4 col-md-5 col-sm-10">
						<label for="apelido">Como gostaria de ser chamado:</label>
						<input class="form-control" id="apelido" type="text" th:field="*{apelido}" placeholder="Como gostaria de ser chamado(a)?" maxlength="20" />
						<p class="text-danger" th:if="${#fields.hasErrors('apelido')}" th:errors="*{apelido}"></p>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-lg-4 col-md-5 col-sm-10">
						<label for="input-telefone">Telefone:</label>
						<input class="form-control" type="text" id="input-telefone" th:field="*{telefone}" placeholder="Telefone *" maxlength="15" />
						<p class="text-danger" th:if="${#fields.hasErrors('telefone')}" th:errors="*{telefone}"></p>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-lg-4 col-md-5 col-sm-10">
						<input class="form-control" type="email" th:field="*{email}" placeholder="Email *" maxlength="60" readonly />
						<p class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></p>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-lg-4 col-md-5 col-sm-10">
						<div class="d-flex justify-content-end">
							<a type="submit" class="btn btn-primary text-white d-flex mr-2" href="/usuario/dados-pessoais">
								<img class="mr-1" src="/imagens/icons/keyboard-return.svg" />
								Voltar
							</a>
							<button type="submit" class="btn btn-success text-white d-flex">
								<img class="mr-1" src="/imagens/icons/refresh.svg" />
								Atualizar dados
							</button>
						</div>
					</div>
				</div>
				<input type="hidden" th:field="*{senha}" />
				<input type="hidden" th:field="*{role}" />
				<input type="hidden" th:field="*{id}" />
			</form>
		</div>
	</div>
	
	<script>
		$(document)
			.ready(
				function() {
					var SPMaskBehavior = function(val) {
						return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000'
								: '(00) 0000-00009';
					}, spOptions = {
						onKeyPress : function(val, e, field, options) {
							field.mask(SPMaskBehavior.apply({},
									arguments), options);
						}
					};
	
					$('#input-telefone').mask(SPMaskBehavior, spOptions);
				});
	</script>
	
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</body>
</html>