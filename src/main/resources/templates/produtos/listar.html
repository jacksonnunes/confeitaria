<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Rivoli Confeitaria | Menu</title>
<link href="/styles/page-produtos-listar.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lemonada:wght@600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<div class="produtos-page">
		<div class="container">
<!-- 		<div th:replace="fragmentos/fragmentos :: header"></div> -->
			<nav class="menu">
				<div class="title">
					<h2>Menu</h2>
				</div>
				<div class="icons">
					<span class="quantidade-de-itens" th:if="${quantidadeDeItens}" th:text="${quantidadeDeItens}"></span>
					<a th:href="@{/pedidos/listar}">
						<img src="/imagens/icons/cart.svg" alt="Carrinho"/>
					</a>
					<a class="menu-mobile" href="#">
						<img src="/imagens/icons/dots.svg" alt="Menu"/>
					</a>
					<div class="collapse">
						<ul class="navbar-menu">
							<li class="navbar-item">
								<a class="menu-item" th:href="@{/pedidos/meus-pedidos}">Pedidos</a>
<!-- 								<div class="dropdown-item"> -->
<!-- 									<a class="item" href="#">Meus pedidos</a> -->
<!-- 									<a class="item" href="#">Pedidos pendentes</a> -->
<!-- 								</div> -->
							</li>
							<li class="navbar-item">
								<a class="menu-item" href="#">Conta</a>
								<div class="dropdown-item">
									<a class="item" href="#">Dados pessoais</a>
									<a class="item" href="#">Endereços</a>
								</div>
							</li>
							<li class="navbar-item">
								<a class="menu-item" href="#">Administrativo</a>
								<div class="dropdown-item">
									<a class="item" href="#">Pedidos pendentes</a>
									<a class="item" href="#">Produtos</a>
									<a class="item" href="#">Controle de Vendas</a>
								</div>
							</li>
							<li class="navbar-item">
								<a class="logout" href="/logout">Sair</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<div class="produtos-content">
				<div th:each="categoria: ${categorias}" th:if="${categoria.getProdutos().size() > 0}">
					<h2 class="categoria" th:text="${categoria.nome}"></h2>
					<a class="produto" th:href="@{/item-pedido/comprar/{id}(id=${produto.id})}" th:each="produto: ${categoria.produtos}">
						<img class="produto-imagem" src="/imagens/fotos/img.jpg" />
						<h4 class="produto-nome" th:text="${produto.nome}"></h4>
						<p class="produto-descricao" th:text="${produto.descricao}" />
						<p class="produto-quantidade" th:text="'Qtde: ' + ${produto.quantidadeDisponivel}"/>
						<p class="produto-valor" th:text="'R$ ' + ${#numbers.formatDecimal(produto.valor, 0, 'POINT', 2, 'COMMA')}" />
					</a>
				</div>
			</div>
		</div>
	</div>
	
	<script type="text/javascript">
		$(document).ready(function(){
			//Esconder itens de menu quando a tela for menor que 840px
			function checkWidth() {
				if ($(window).width() <= 983) {
					$('.collapse').hide();
					$('.collapse').css('height','0px');
				} else {
					$('.collapse').show();
					$('.collapse').css('height','auto');
				}
			}
			checkWidth();
			//Quando o tamanho da tela variar, fazer checagem para esconder ou mostrar menu
			$(window).resize(checkWidth);
			
			//Quando clicar no ícone de menu, o menu fará um efeito slide para baixo ou para cima
			$('.menu-mobile').click(function() {
				$('.collapse').slideToggle('fast');
			});
		});
	</script>

</body>
</html>